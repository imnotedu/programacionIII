<!-- Split-Screen Register -->
<style>
  .auth-split {
    display: flex;
    min-height: 100vh;
  }

  .auth-left {
    flex: 1;
    background: #ffffff;
    display: flex;
    flex-direction: column;
    justify-content: center;
    padding: 3rem 2rem;
    position: relative;
    overflow-y: auto;
  }

  .auth-left-inner {
    width: 100%;
    max-width: 420px;
    margin: 0 auto;
  }

  .auth-right {
    display: none;
    flex: 1;
    background: linear-gradient(135deg, #1a2e05 0%, #2d4a0a 40%, #1a2e05 100%);
    position: relative;
    overflow: hidden;
    align-items: center;
    justify-content: center;
    padding: 3rem;
  }

  @media (min-width: 1024px) {
    .auth-right {
      display: flex;
    }

    .auth-left {
      padding: 3rem;
    }
  }

  /* Right panel decorations */
  .auth-right::before {
    content: '';
    position: absolute;
    top: -15%;
    right: -15%;
    width: 500px;
    height: 500px;
    background: radial-gradient(circle, rgba(132, 204, 22, 0.12) 0%, transparent 70%);
    border-radius: 50%;
  }

  .auth-right::after {
    content: '';
    position: absolute;
    bottom: -10%;
    left: -10%;
    width: 400px;
    height: 400px;
    background: radial-gradient(circle, rgba(132, 204, 22, 0.08) 0%, transparent 70%);
    border-radius: 50%;
  }

  .auth-right-content {
    position: relative;
    z-index: 10;
    text-align: center;
    max-width: 440px;
  }

  /* Back link */
  .auth-back {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    color: #9ca3af;
    text-decoration: none;
    font-size: 0.875rem;
    font-weight: 500;
    margin-bottom: 2rem;
    transition: color 0.2s;
  }

  .auth-back:hover {
    color: #84cc16;
  }

  .auth-back svg {
    transition: transform 0.2s;
  }

  .auth-back:hover svg {
    transform: translateX(-3px);
  }

  /* Logo */
  .auth-logo {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin-bottom: 2rem;
  }

  .auth-logo-icon {
    width: 44px;
    height: 44px;
    background: #84cc16;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .auth-logo-icon svg {
    width: 24px;
    height: 24px;
    color: #fff;
  }

  .auth-logo-text {
    font-size: 1.5rem;
    font-weight: 800;
    color: #111827;
    letter-spacing: -0.02em;
  }

  .auth-logo-text span {
    color: #84cc16;
  }

  /* Form titles */
  .auth-title {
    font-size: 1.75rem;
    font-weight: 700;
    color: #111827;
    margin-bottom: 0.5rem;
  }

  .auth-subtitle {
    font-size: 0.95rem;
    color: #9ca3af;
    margin-bottom: 1.75rem;
  }

  /* Form fields */
  .auth-field {
    margin-bottom: 1.1rem;
  }

  .auth-label {
    display: block;
    font-size: 0.875rem;
    font-weight: 600;
    color: #374151;
    margin-bottom: 0.5rem;
  }

  .auth-input {
    width: 100%;
    height: 48px;
    padding: 0 1rem;
    background: #f8fafc;
    border: 1.5px solid #e5e7eb;
    border-radius: 12px;
    color: #111827;
    font-size: 0.95rem;
    outline: none;
    transition: border-color 0.2s, box-shadow 0.2s;
    box-sizing: border-box;
  }

  .auth-input::placeholder {
    color: #9ca3af;
  }

  .auth-input:focus {
    border-color: #84cc16;
    box-shadow: 0 0 0 3px rgba(132, 204, 22, 0.12);
    background: #fff;
  }

  .auth-pw-wrap {
    position: relative;
  }

  .auth-pw-wrap .auth-input {
    padding-right: 3rem;
  }

  .auth-pw-toggle {
    position: absolute;
    right: 0.875rem;
    top: 50%;
    transform: translateY(-50%);
    background: none;
    border: none;
    color: #9ca3af;
    cursor: pointer;
    padding: 0;
    display: flex;
    transition: color 0.2s;
  }

  .auth-pw-toggle:hover {
    color: #84cc16;
  }

  /* Password strength */
  .pw-req {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.78rem;
    color: #9ca3af;
    margin-top: 0.5rem;
    transition: color 0.2s;
  }

  .pw-req.valid {
    color: #84cc16;
  }

  .pw-req svg {
    width: 14px;
    height: 14px;
    flex-shrink: 0;
  }

  .pw-req .icon-check {
    display: none;
  }

  .pw-req.valid .icon-check {
    display: block;
  }

  .pw-req.valid .icon-x {
    display: none;
  }

  /* Submit */
  .auth-submit {
    width: 100%;
    height: 50px;
    background: #84cc16;
    color: #fff;
    border: none;
    border-radius: 12px;
    font-size: 1rem;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.2s;
    margin-top: 0.5rem;
  }

  .auth-submit:hover {
    background: #6fb312;
    transform: translateY(-1px);
    box-shadow: 0 8px 24px rgba(132, 204, 22, 0.3);
  }

  .auth-submit:active {
    transform: translateY(0) scale(0.98);
  }

  /* Divider */
  .auth-divider {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin: 1.5rem 0;
  }

  .auth-divider::before,
  .auth-divider::after {
    content: '';
    flex: 1;
    height: 1px;
    background: #e5e7eb;
  }

  .auth-divider span {
    color: #9ca3af;
    font-size: 0.85rem;
    white-space: nowrap;
  }

  /* Secondary button */
  .auth-secondary {
    display: block;
    width: 100%;
    height: 48px;
    line-height: 46px;
    text-align: center;
    background: transparent;
    color: #374151;
    border: 1.5px solid #e5e7eb;
    border-radius: 12px;
    font-size: 0.95rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s;
    text-decoration: none;
  }

  .auth-secondary:hover {
    border-color: #84cc16;
    color: #84cc16;
    background: rgba(132, 204, 22, 0.04);
  }

  /* Error message */
  .auth-error {
    color: #ef4444;
    font-size: 0.75rem;
    margin-top: 0.25rem;
    display: none;
  }

  /* Right panel typography */
  .auth-right h2 {
    font-size: 2.5rem;
    font-weight: 800;
    color: #fff;
    line-height: 1.2;
    margin-bottom: 1rem;
  }

  .auth-right h2 span {
    color: #84cc16;
  }

  .auth-right p {
    color: rgba(255, 255, 255, 0.7);
    font-size: 1.05rem;
    line-height: 1.7;
    margin-bottom: 2.5rem;
  }

  /* Features list */
  .auth-features {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    text-align: left;
    max-width: 320px;
    margin: 0 auto;
  }

  .auth-feature {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    color: rgba(255, 255, 255, 0.75);
    font-size: 0.9rem;
    font-weight: 500;
  }

  .auth-feature-icon {
    width: 36px;
    height: 36px;
    min-width: 36px;
    background: rgba(132, 204, 22, 0.15);
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .auth-feature-icon svg {
    width: 18px;
    height: 18px;
    color: #84cc16;
  }

  /* Separator line */
  .auth-right-line {
    width: 60px;
    height: 3px;
    background: #84cc16;
    border-radius: 999px;
    margin: 0 auto 2rem;
  }
</style>

<div class="auth-split">
  <!-- Left Column: White Form -->
  <div class="auth-left">
    <div class="auth-left-inner">
      <!-- Back Link -->
      <a href="/" class="auth-back">
        <svg width="18" height="18" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
        </svg>
        Volver al inicio
      </a>

      <!-- Logo -->
      <div class="auth-logo">
        <div class="auth-logo-icon">
          <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M13 10V3L4 14h7v7l9-11h-7z">
            </path>
          </svg>
        </div>
        <div class="auth-logo-text">Power<span>Fit</span></div>
      </div>

      <!-- Title -->
      <h1 class="auth-title">Crear cuenta</h1>
      <p class="auth-subtitle">Completa el formulario para comenzar</p>

      <!-- Form -->
      <form action="/api/auth/register" method="POST" data-validate id="register-form">
        <!-- Name -->
        <div class="auth-field">
          <label for="name" class="auth-label">Nombre completo</label>
          <input id="name" type="text" name="name" placeholder="Tu nombre" class="auth-input" required
            autocomplete="name" />
          <p class="auth-error error-message"></p>
        </div>

        <!-- Email -->
        <div class="auth-field">
          <label for="email" class="auth-label">Correo electrónico</label>
          <input id="email" type="email" name="email" placeholder="tu@email.com" class="auth-input" required
            autocomplete="email" />
          <p class="auth-error error-message"></p>
        </div>

        <!-- Password -->
        <div class="auth-field">
          <label for="password" class="auth-label">Contraseña</label>
          <div class="auth-pw-wrap">
            <input id="password" type="password" name="password" placeholder="••••••••" class="auth-input" required
              autocomplete="new-password" />
            <button type="button" onclick="togglePassword('password')" class="auth-pw-toggle"
              aria-label="Mostrar contraseña" id="password-toggle">
              <svg id="password-eye-open" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z">
                </path>
              </svg>
              <svg id="password-eye-closed" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                class="hidden">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21">
                </path>
              </svg>
            </button>
          </div>
          <!-- Password Requirements -->
          <div id="password-strength" class="hidden" style="margin-top: 0.5rem;">
            <div class="pw-req" data-check="length">
              <svg class="icon-check" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M5 13l4 4L19 7"></path>
              </svg>
              <svg class="icon-x" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
              </svg>
              <span>Mínimo 6 caracteres</span>
            </div>
          </div>
          <p class="auth-error error-message"></p>
        </div>

        <!-- Confirm Password -->
        <div class="auth-field">
          <label for="confirmPassword" class="auth-label">Confirmar contraseña</label>
          <div class="auth-pw-wrap">
            <input id="confirmPassword" type="password" name="confirmPassword" placeholder="••••••••" class="auth-input"
              required autocomplete="new-password" />
            <button type="button" onclick="togglePassword('confirmPassword')" class="auth-pw-toggle"
              aria-label="Mostrar contraseña" id="confirmPassword-toggle">
              <svg id="confirmPassword-eye-open" width="20" height="20" fill="none" stroke="currentColor"
                viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z">
                </path>
              </svg>
              <svg id="confirmPassword-eye-closed" width="20" height="20" fill="none" stroke="currentColor"
                viewBox="0 0 24 24" class="hidden">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21">
                </path>
              </svg>
            </button>
          </div>
          <p class="auth-error error-message"></p>
        </div>

        <!-- Submit -->
        <button type="submit" class="auth-submit">
          Crear cuenta
        </button>
      </form>

      <!-- Divider -->
      <div class="auth-divider">
        <span>¿Ya tienes cuenta?</span>
      </div>

      <!-- Login Link -->
      <a href="/login" class="auth-secondary">
        Iniciar sesión
      </a>
    </div>
  </div>

  <!-- Right Column: Green Panel (desktop only) -->
  <div class="auth-right">
    <div class="auth-right-content">
      <div class="auth-right-line"></div>
      <h2>Únete a<br /><span>PowerFit</span></h2>
      <p>Crea tu cuenta y comienza tu camino hacia el máximo rendimiento deportivo.</p>
      <div class="auth-features">
        <div class="auth-feature">
          <div class="auth-feature-icon">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
            </svg>
          </div>
          <span>Acceso a productos exclusivos</span>
        </div>
        <div class="auth-feature">
          <div class="auth-feature-icon">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
          </div>
          <span>Seguimiento de pedidos en tiempo real</span>
        </div>
        <div class="auth-feature">
          <div class="auth-feature-icon">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z">
              </path>
            </svg>
          </div>
          <span>Ofertas y descuentos especiales</span>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  function togglePassword(inputId) {
    const input = document.getElementById(inputId);
    const eyeOpen = document.getElementById(inputId + '-eye-open');
    const eyeClosed = document.getElementById(inputId + '-eye-closed');
    const toggleBtn = document.getElementById(inputId + '-toggle');

    if (input.type === 'password') {
      input.type = 'text';
      eyeOpen.classList.add('hidden');
      eyeClosed.classList.remove('hidden');
      if (toggleBtn) {
        toggleBtn.setAttribute('aria-label', 'Ocultar contraseña');
      }
    } else {
      input.type = 'password';
      eyeOpen.classList.remove('hidden');
      eyeClosed.classList.add('hidden');
      if (toggleBtn) {
        toggleBtn.setAttribute('aria-label', 'Mostrar contraseña');
      }
    }
  }

  // Password strength validation
  document.getElementById('password').addEventListener('input', function (e) {
    const password = e.target.value;
    const strengthDiv = document.getElementById('password-strength');

    if (password) {
      strengthDiv.classList.remove('hidden');
      const checks = {
        length: password.length >= 6
      };

      Object.keys(checks).forEach(check => {
        const element = strengthDiv.querySelector(`[data-check="${check}"]`);
        if (checks[check]) {
          element.classList.add('valid');
        } else {
          element.classList.remove('valid');
        }
      });
    } else {
      strengthDiv.classList.add('hidden');
    }
  });
</script>
<script src="/js/forms.js"></script>